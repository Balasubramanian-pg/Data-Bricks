# 108. Schema Evolution

Canonical documentation for 108. Schema Evolution. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 108. Schema Evolution exists and the class of problems it addresses.
Schema evolution is a critical aspect of data management that addresses the need for databases and data storage systems to adapt to changing requirements, such as modifications to the structure of the data, additions of new data entities, or changes in data types. The primary problem that schema evolution aims to solve is the ability to modify the schema of a database without compromising the integrity of the existing data, ensuring backward compatibility, and minimizing downtime.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
Schema evolution involves a set of processes and techniques that enable the modification of a database schema in a controlled and predictable manner. This includes adding or removing tables, columns, or relationships, as well as changing data types or constraints. The goal is to ensure that the evolved schema remains consistent and supports the existing data and applications, while also accommodating new requirements.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Schema | The overall structure or organization of a database, including the relationships between different data entities. |
| Schema Evolution | The process of modifying the schema of a database to accommodate changing requirements. |
| Backward Compatibility | The ability of a modified schema to support existing data and applications without requiring significant changes. |
| Forward Compatibility | The ability of a modified schema to accommodate future changes and requirements. |
| Versioning | The process of tracking and managing different versions of a schema. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of schema evolution include:
- **Versioning**: Tracking changes to the schema over time to ensure that different versions can coexist and be managed effectively.
- **Change Management**: Controlling and coordinating changes to the schema to minimize disruptions and ensure data integrity.
- **Compatibility**: Ensuring that changes to the schema do not break existing applications or data, and that the schema remains adaptable to future changes.
- **Data Migration**: Transferring data from an old schema to a new one, ensuring that the data remains consistent and intact.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for schema evolution typically involves the following steps:
1. **Planning**: Identifying the need for schema changes and planning the modifications.
2. **Design**: Creating a new version of the schema that incorporates the required changes.
3. **Testing**: Verifying that the new schema is correct and functions as expected.
4. **Deployment**: Implementing the new schema in the production environment.
5. **Monitoring**: Observing the performance and behavior of the new schema to identify any issues.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns in schema evolution include:
- **Add-Only**: Adding new columns or tables without modifying existing ones to avoid disrupting current applications.
- **Rename-And-Replace**: Renaming existing columns or tables and replacing them with new ones to minimize downtime.
- **Branching**: Creating a new version of the schema for a specific application or use case, allowing for parallel development and testing.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns in schema evolution include:
- **Big-Bang**: Making significant, widespread changes to the schema all at once, which can lead to high risk and prolonged downtime.
- **Lack of Versioning**: Failing to track changes to the schema, making it difficult to manage different versions and ensure compatibility.
- **Insufficient Testing**: Not thoroughly testing schema changes before deployment, which can result in errors and data corruption.

## 8. References
Provide exactly five authoritative external references.
1. [Apache Hive Schema Evolution](https://cwiki.apache.org/confluence/display/Hive/Hive+Schema+Evolution)
2. [MySQL Schema Evolution](https://dev.mysql.com/doc/refman/8.0/en/alter-table.html)
3. [PostgreSQL Schema Evolution](https://www.postgresql.org/docs/current/ddl-alter.html)
4. [Microsoft SQL Server Schema Evolution](https://docs.microsoft.com/en-us/sql/relational-databases/tables/modify-tables?view=sql-server-ver15)
5. [Oracle Database Schema Evolution](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/ALTER-TABLE.html)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |