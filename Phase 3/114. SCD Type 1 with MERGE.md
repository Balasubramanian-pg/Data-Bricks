# 114. SCD Type 1 with MERGE

Canonical documentation for 114. SCD Type 1 with MERGE. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 114. SCD Type 1 with MERGE exists and the class of problems it addresses.
SCD Type 1 with MERGE is a data warehousing technique used to manage slowly changing dimensions (SCD) in a data warehouse. It exists to address the problem of maintaining a consistent and accurate record of historical data in the presence of changing dimension attributes. The class of problems it addresses includes handling changes to dimension attributes, such as customer name or address, while preserving the historical record of facts associated with the previous attribute values.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The conceptual model of SCD Type 1 with MERGE involves using a single table to store both the current and historical values of dimension attributes. The MERGE statement is used to synchronize the dimension table with the source system, updating existing records and inserting new ones as necessary. This approach allows for efficient management of slowly changing dimensions and provides a simple and effective way to maintain data consistency.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| SCD | Slowly Changing Dimension, a dimension that changes over time, but not frequently. |
| Type 1 | A method of handling SCDs where only the current value is stored, and historical values are overwritten. |
| MERGE | A SQL statement used to synchronize two tables, updating existing records and inserting new ones as necessary. |
| Dimension | A table that describes the attributes of a fact table, such as customer or product. |
| Fact Table | A table that contains measurable data, such as sales or orders. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of SCD Type 1 with MERGE include:
* Using a single table to store both current and historical values of dimension attributes.
* Utilizing the MERGE statement to synchronize the dimension table with the source system.
* Overwriting historical values with current values to maintain a consistent and up-to-date record.
* Ensuring data consistency and accuracy through the use of constraints and validation rules.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for SCD Type 1 with MERGE involves the following components:
* A dimension table with a primary key and attributes that are subject to change.
* A fact table with a foreign key referencing the dimension table.
* A MERGE statement that updates the dimension table based on changes to the source system.
* Constraints and validation rules to ensure data consistency and accuracy.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for SCD Type 1 with MERGE include:
* Using a surrogate key to identify each record in the dimension table.
* Implementing a data validation process to ensure data quality and consistency.
* Utilizing a data transformation process to convert data from the source system to the format required by the dimension table.
* Scheduling regular updates to the dimension table to ensure that it remains current and accurate.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns for SCD Type 1 with MERGE include:
* Using a natural key instead of a surrogate key, which can lead to data inconsistencies and errors.
* Failing to implement data validation and transformation processes, which can result in poor data quality and accuracy.
* Updating the dimension table manually, which can be time-consuming and prone to errors.
* Not scheduling regular updates to the dimension table, which can lead to data becoming outdated and inaccurate.

## 8. References
Provide exactly five authoritative external references.
1. Kimball, R., & Ross, M. (2013). The Data Warehouse Toolkit: The Definitive Guide to Dimensional Modeling. Wiley.
2. Inmon, W. H. (2005). Building the Data Warehouse. Wiley.
3. Oracle Corporation. (2022). Oracle Database SQL Language Reference.
4. Microsoft Corporation. (2022). Microsoft SQL Server Documentation.
5. IBM Corporation. (2022). IBM DB2 Database for Linux, UNIX, and Windows.

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |