# 80. Cache and Persist

Canonical documentation for 80. Cache and Persist. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 80. Cache and Persist exists and the class of problems it addresses.
The primary purpose of Cache and Persist is to optimize data access and storage by reducing the number of requests made to external data sources, thereby improving application performance and responsiveness. This is achieved by temporarily storing frequently accessed data in a cache layer, which can be retrieved quickly, and persisting less frequently accessed data to a more permanent storage medium. The class of problems addressed by Cache and Persist includes improving data retrieval efficiency, reducing latency, and enhancing overall system scalability.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The conceptual model of Cache and Persist involves a layered architecture, where data is stored in a hierarchical structure consisting of a cache layer, a persistence layer, and optionally, an external data source. The cache layer acts as a buffer, storing frequently accessed data in memory for rapid retrieval. The persistence layer stores less frequently accessed data in a more permanent storage medium, such as a database or file system. Data flows between these layers, with the cache layer serving as a gateway to the persistence layer and external data source.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Cache | A temporary storage layer that holds frequently accessed data in memory for rapid retrieval. |
| Persist | The act of storing data in a more permanent storage medium, such as a database or file system. |
| Cache Hit | When requested data is found in the cache layer, reducing the need for a more expensive request to the persistence layer or external data source. |
| Cache Miss | When requested data is not found in the cache layer, requiring a request to the persistence layer or external data source. |
| Cache Invalidation | The process of removing outdated or invalid data from the cache layer to ensure data consistency and accuracy. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of Cache and Persist include:
* **Cache invalidation**: ensuring that cached data remains up-to-date and consistent with the underlying data source.
* **Cache expiration**: setting a time-to-live (TTL) for cached data to determine when it should be refreshed or removed.
* **Cache sizing**: determining the optimal size of the cache layer to balance memory usage and performance.
* **Persistence strategies**: choosing the appropriate persistence mechanism, such as database or file system, based on data characteristics and access patterns.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for Cache and Persist involves a multi-layered architecture, consisting of:
1. **Cache layer**: a temporary storage layer that stores frequently accessed data in memory.
2. **Persistence layer**: a more permanent storage medium that stores less frequently accessed data.
3. **External data source**: an optional layer that provides access to additional data sources, such as databases or web services.
This model is widely adopted in various applications, including web applications, mobile apps, and enterprise software systems.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns in Cache and Persist include:
* **Cache-aside**: storing data in the cache layer only when it is retrieved from the persistence layer or external data source.
* **Read-through**: retrieving data from the cache layer, and if not found, retrieving it from the persistence layer or external data source and storing it in the cache layer.
* **Write-through**: writing data to both the cache layer and persistence layer simultaneously.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns in Cache and Persist include:
* **Over-caching**: storing too much data in the cache layer, leading to memory waste and reduced performance.
* **Under-caching**: storing too little data in the cache layer, resulting in frequent requests to the persistence layer or external data source.
* **Inconsistent caching**: using inconsistent caching strategies, leading to data inconsistencies and errors.

## 8. References
Provide exactly five authoritative external references.
1. [Cache (computing)](https://en.wikipedia.org/wiki/Cache_(computing)) - Wikipedia
2. [Persistence (computer science)](https://en.wikipedia.org/wiki/Persistence_(computer_science)) - Wikipedia
3. [Caching in Web Applications](https://www.nginx.com/blog/nginx-caching-guide/) - NGINX
4. [Cache Invalidation Strategies](https://www.infoq.com/articles/cache-invalidation-strategies) - InfoQ
5. [Database Caching](https://docs.microsoft.com/en-us/azure/cache/database-caching) - Microsoft Azure

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |