# 109. Adding Columns with Schema Evolution

Canonical documentation for 109. Adding Columns with Schema Evolution. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 109. Adding Columns with Schema Evolution exists and the class of problems it addresses.
The purpose of adding columns with schema evolution is to enable the modification of existing data structures in a database or data storage system without requiring a full replacement or significant downtime. This addresses the problem of needing to adapt to changing data requirements, such as adding new fields or attributes, while minimizing the impact on existing applications and data.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
Adding columns with schema evolution involves a series of steps that allow for the dynamic modification of a database schema. This includes planning the changes, creating a new version of the schema, migrating the data, and updating any dependent applications or services. The goal is to achieve a seamless transition that does not disrupt the normal operation of the system.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Schema Evolution | The process of modifying a database schema to accommodate changing data requirements. |
| Column Addition | The act of adding a new column to an existing table in a database. |
| Data Migration | The process of transferring data from an old schema to a new one. |
| Backward Compatibility | The ability of a new schema to support existing applications and services without modification. |
| Forward Compatibility | The ability of existing applications and services to work with a new schema without modification. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of adding columns with schema evolution include understanding the current schema, planning the changes, creating a new schema version, migrating the data, and ensuring backward and forward compatibility. Additionally, considerations such as data type compatibility, default values, and nullability are crucial for a successful evolution.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for adding columns with schema evolution typically involves the following steps:
1. **Assessment**: Evaluate the need for schema changes and plan the modifications.
2. **Design**: Create a new schema version that includes the added columns.
3. **Implementation**: Apply the schema changes to the database.
4. **Data Migration**: Transfer data from the old schema to the new one.
5. **Testing**: Verify that the new schema works correctly with existing applications and services.
6. **Deployment**: Roll out the changes to the production environment.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns in adding columns with schema evolution include:
- **Adding columns with default values**: To minimize the impact on existing data.
- **Using nullable columns**: To allow for gradual data population.
- **Creating a new table**: Instead of modifying an existing one, to preserve data integrity.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns in schema evolution include:
- **Making drastic changes**: Without thorough planning and testing.
- **Ignoring backward compatibility**: Failing to ensure that the new schema supports existing applications.
- **Not documenting changes**: Failing to maintain accurate and up-to-date documentation of the schema evolution.

## 8. References
Provide exactly five authoritative external references.
1. [Apache Hive Documentation - Schema Evolution](https://cwiki.apache.org/confluence/display/Hive/SchemaEvolution)
2. [Microsoft Azure - Schema Evolution in Azure Cosmos DB](https://docs.microsoft.com/en-us/azure/cosmos-db/schema-evolution)
3. [AWS Documentation - Amazon DynamoDB Schema Evolution](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/schema-evolution.html)
4. [Google Cloud Documentation - Bigtable Schema Evolution](https://cloud.google.com/bigtable/docs/schema-evolution)
5. [Oracle Database Documentation - Schema Evolution](https://docs.oracle.com/en/database/oracle/oracle-database/21/admns/evolving-schema.html)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |