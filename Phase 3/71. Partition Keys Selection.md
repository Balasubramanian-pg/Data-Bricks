# 71. Partition Keys Selection

Canonical documentation for 71. Partition Keys Selection. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 71. Partition Keys Selection exists and the class of problems it addresses.
The purpose of partition key selection is to enable efficient data distribution and retrieval in distributed databases and storage systems. It addresses the problem of optimizing data storage and query performance by dividing data into smaller, more manageable partitions. Effective partition key selection is crucial for achieving scalability, reducing latency, and improving overall system performance.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
Partition key selection involves choosing one or more columns from a dataset to serve as the partition key. The partition key determines how data is divided into partitions, which are then stored and processed independently. This allows for parallel processing, improved query performance, and more efficient data management. The conceptual model of partition key selection involves understanding the trade-offs between different partitioning strategies, such as range-based, list-based, and hash-based partitioning.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Partition Key | A column or set of columns used to divide data into partitions |
| Partition | A subset of data that is stored and processed independently |
| Partitioning Strategy | A method for dividing data into partitions, such as range-based or hash-based |
| Data Distribution | The process of dividing data into partitions and assigning them to storage nodes |
| Query Performance | The speed and efficiency of retrieving data from a partitioned dataset |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of partition key selection include:
* **Data locality**: The idea that related data should be stored together to improve query performance
* **Data distribution**: The process of dividing data into partitions and assigning them to storage nodes
* **Partitioning strategy**: The method used to divide data into partitions, such as range-based or hash-based
* **Partition key selection**: The process of choosing one or more columns to serve as the partition key

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for partition key selection involves the following steps:
1. **Data analysis**: Analyze the dataset to understand the distribution of data and the query patterns
2. **Partitioning strategy selection**: Choose a partitioning strategy based on the data analysis and query patterns
3. **Partition key selection**: Choose one or more columns to serve as the partition key based on the partitioning strategy
4. **Data distribution**: Divide the data into partitions and assign them to storage nodes

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns in partition key selection include:
* **Using a single column as the partition key**: This is a simple and effective approach, but may not always provide optimal performance
* **Using a composite partition key**: This involves using multiple columns to serve as the partition key, which can provide better performance and data distribution
* **Using a hash-based partitioning strategy**: This involves using a hash function to divide data into partitions, which can provide good performance and data distribution

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns in partition key selection include:
* **Using a partition key with low cardinality**: This can lead to poor data distribution and query performance
* **Using a partition key with high skew**: This can lead to poor data distribution and query performance
* **Not considering query patterns**: This can lead to poor query performance and data distribution

## 8. References
Provide exactly five authoritative external references.
1. **Apache Cassandra Documentation**: [https://cassandra.apache.org/doc/latest/cql/ddl.html](https://cassandra.apache.org/doc/latest/cql/ddl.html)
2. **Amazon DynamoDB Documentation**: [https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.Partitions.html](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.Partitions.html)
3. **Microsoft Azure Cosmos DB Documentation**: [https://docs.microsoft.com/en-us/azure/cosmos-db/partitioning-overview](https://docs.microsoft.com/en-us/azure/cosmos-db/partitioning-overview)
4. **Google Cloud Bigtable Documentation**: [https://cloud.google.com/bigtable/docs/overview#partitioning](https://cloud.google.com/bigtable/docs/overview#partitioning)
5. **IBM DB2 Documentation**: [https://www.ibm.com/docs/en/db2-for-zos/12?topic=design-partitioning](https://www.ibm.com/docs/en/db2-for-zos/12?topic=design-partitioning)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |