# 122. SLAs for Data Availability

Canonical documentation for [122. SLAs for Data Availability](Phase 6/122. SLAs for Data Availability.md). This document defines concepts, terminology, and standard usage.

## Purpose
The purpose of Service Level Agreements (SLAs) for Data Availability is to establish a formal, quantifiable commitment between a data provider and a consumer regarding the accessibility and usability of data assets. While traditional infrastructure SLAs focus on "server uptime," Data Availability SLAs address the specific requirement that data must be reachable, queryable, and readable by authorized systems or users within defined temporal parameters.

This topic addresses the business need for predictability in data-driven operations, providing a framework for risk management, financial liability (via service credits), and operational transparency.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative, focusing on the architectural and contractual frameworks of data availability rather than specific software configurations.

## Scope
Clarify what is in scope and out of scope for this topic.

> [!IMPORTANT]
> **In scope:**
> * Definitions of availability metrics (SLIs, SLOs, SLAs) specifically for data.
> * Calculation methodologies for "The Nines."
> * Impact of maintenance windows and scheduled downtime.
> * Relationship between availability, latency, and throughput.

> [!WARNING]
> **Out of scope:**
> * Data Durability (the prevention of data loss), which is a distinct architectural concern.
> * Data Quality or Accuracy (the correctness of the data content).
> * Specific vendor-specific legal templates or pricing models.

## Definitions
Provide precise definitions for key terms.

| Term | Definition |
|------|------------|
| Service Level Agreement (SLA) | A legal or formal contract that defines the minimum expected level of service and the penalties for failing to meet them. |
| Service Level Objective (SLO) | A specific target or range of values for a service level that is measured by an SLI. |
| Service Level Indicator (SLI) | A quantitative measure of some aspect of the level of service provided (e.g., successful request rate). |
| Availability | The proportion of time a data asset is functional and accessible to the consumer. |
| Error Budget | The maximum amount of time or number of failures a system can tolerate before violating an SLO. |
| Uptime | The duration during which the data service is fully operational and accessible. |
| MTTR (Mean Time to Recover) | The average time taken to restore data availability after a failure. |

## Core Concepts
The fundamental idea behind Data Availability SLAs is the transition from "system health" to "data utility." A database server might be "up" (pingable), but if the data volume is unmounted or the query engine is locked, the data is unavailable.

### The Measurement of "Nines"
Availability is typically expressed as a percentage of time over a specific period (usually monthly or annually).
* **99.9% ("Three Nines"):** ~43.8 minutes of downtime per month.
* **99.99% ("Four Nines"):** ~4.38 minutes of downtime per month.
* **99.999% ("Five Nines"):** ~26.3 seconds of downtime per month.

### The Availability Equation
The standard formula for calculating availability is:
`Availability = (Total Time - Downtime) / Total Time`

> [!TIP]
> Think of Data Availability as a "Success Rate" rather than just "Uptime." If 1,000 requests are made for data and 999 succeed, your availability for that window is 99.9%, regardless of how many minutes the server was technically "on."

## Standard Model
The standard model for Data Availability follows a hierarchical structure:

1.  **SLI (The Metric):** Define what to measure (e.g., "HTTP 200 responses for Data API calls").
2.  **SLO (The Target):** Define the goal (e.g., "99.9% of API calls must return within 500ms").
3.  **SLA (The Agreement):** Define the consequences (e.g., "If the SLO is missed for two consecutive months, a 10% credit is issued").

### Components of a Robust Data SLA
* **Measurement Window:** The period over which the percentage is calculated (e.g., a rolling 30-day window).
* **Exclusions:** Events that do not count against the SLA, such as scheduled maintenance or client-side errors.
* **Reporting Mechanism:** How the provider proves the availability levels to the consumer.

## Common Patterns
* **Tiered SLAs:** Providing different availability guarantees based on data criticality (e.g., "Gold" tier for transactional data, "Bronze" tier for historical archives).
* **Regional vs. Global Availability:** Defining availability based on geographic access points. A global data mesh may have a higher SLA than a single-region instance.
* **Maintenance Windows:** Explicitly carving out "Planned Downtime" from the availability calculation, usually requiring advanced notice (e.g., 48 hours).

## Anti-Patterns
* **Measuring at the Source Only:** Monitoring the database status but ignoring the network path or the API layer that the consumer actually uses.
* **The "Flapping" Omission:** Failing to account for intermittent failures that last only seconds but disrupt automated data pipelines.
* **Unrealistic "Nines":** Committing to 99.999% availability for data that is processed in batches or relies on third-party upstream providers with lower SLAs.

> [!CAUTION]
> Avoid "Watermelon Effect" reporting: Metrics that appear green (healthy) on the provider's dashboard while the consumer's experience is red (unusable). This usually happens when the SLI does not reflect the end-user's path to the data.

## Edge Cases
* **Gray Failures:** Situations where the data is accessible but extremely slow (high latency). At what point does "slow" become "unavailable"? Standard models often define a latency threshold as a failure.
* **Partial Availability:** In distributed systems, some shards of data may be available while others are not. SLAs must define if "Availability" means *all* data or *any* data.
* **Dependency Failures:** If a Data Availability SLA depends on a third-party Identity Provider (IdP) for authentication, the SLA must clarify if IdP outages exempt the data provider from penalties.
* **Thundering Herd:** Following a recovery from downtime, a massive spike in requests can cause a secondary outage. SLAs often include "grace periods" for stabilization post-recovery.

## Related Topics
* **123. Data Durability vs. Availability:** Understanding the difference between losing data and being unable to reach it.
* **124. RTO and RPO in Data Recovery:** How recovery objectives feed into availability targets.
* **125. Disaster Recovery for Distributed Data:** Architectural patterns for maintaining availability during catastrophic failures.

## Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial AI-generated canonical documentation |